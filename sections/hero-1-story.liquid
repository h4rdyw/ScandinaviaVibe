{% comment %}theme-check-disable{% endcomment %}

{% assign page_handle = page.handle %}
{% assign story_handle = 0 %}
{% for block in section.blocks %}
{% if block.settings.page_handle == page_handle  or template == 'index' %}


{% if block.type == 'hero_story' %} 
{% assign hidefilterbackdrop = block.settings.hide_filter_backdrop %}
{% assign story_handle = story_handle | plus : 1 %}


{% if block.settings.image_story  %}
    {% assign hero_img_url = block.settings.image_story | img_url: 'master' %} 
  {% else %}
     {% assign hero_img_url = block.settings.hero_story_img_url %}
{% endif %}

  <div class="py-5 row row-cols-lg-2 row-cols-md-2 row-cols-sm-2 row-cols-1 d-flex bg-light">

    <!--/  Hero on The Left / -->
    
    {% if block.settings.video_story_url %}


    {% if block.settings.placement < 2 %}
        <div class="col d-flex flex-fill"> 
            <div class="hero-1-container">
              <div class="w-100 mx-auto">
                 <div class="ratio ratio-16x9">
                    {% comment %} <iframe src="https://www.youtube.com/embed/{{ block.settings.video_story_url.id }}" allowfullscreen></iframe> {% endcomment %}
                    <lite-youtube videoid="{{ block.settings.video_story_url.id }}" playlabel="Play: Keynote (Google I/O '18)"></lite-youtube>
                  </div>
              </div>          
              <div class="hero-1-stuff-{{ story_handle }}">
                  {% if block.settings.title %}
                    <h1>{{ block.settings.title }}</h1>
                  {% endif %}  
                  {% if block.settings.button_link %}
                    <a href="{{ block.settings.button_link }}" class="btn-reg">{{ block.settings.button_label }}</a>  
                  {% endif %}                   
              </div>
            </div>    
           </div>
           <div class="col px-4 d-flex align-content-stretch">
            <p>{{ block.settings.description }}</p>
          </div>
    
        {% else %}

        <!--/  Hero on The Right / -->

          <div class="col px-4 d-flex flex-fill">
            <p>{{ block.settings.description }}</p>
          </div>  
          <div class="col d-flex flex-fill">        
            <div class="hero-1-container">
                <div class="w-100 mx-auto">
                  <div class="ratio ratio-16x9">
                    {% comment %} <iframe src="https://www.youtube.com/embed/{{ block.settings.video_story_url.id }}" allowfullscreen></iframe>               {% endcomment %}
                    <lite-youtube videoid="{{ block.settings.video_story_url.id }}" playlabel="Play: Keynote (Google I/O '18)"></lite-youtube>

                  </div>
                </div>   
                <div class="hero-1-stuff-{{ story_handle }}">
                  {% if block.settings.title %}
                    <h1>{{ block.settings.title }}</h1>  
                  {% endif %}
                  
                  {% if block.settings.button_link %}
                  <a href="{{ block.settings.button_link }}" class="btn-reg">{{ block.settings.button_label }}</a>  
                  {% endif %}            
                </div>     
            </div>    
         </div>
    {% endif %} 


  

  {% else %}
    
 <!--/ Non Video /-->

  {% comment %} <div class="my-5 row row-cols-lg-2 row-cols-md-2 row-cols-1 d-flex bg-light"> {% endcomment %}

    <!--/  Hero on The Left / -->
    
    {% if block.settings.placement < 2 %}
      <div class="col d-flex flex-fill">
          <div class="hero-1-container">
              <div class="hero-1" style="background: url({{ hero_img_url }}) no-repeat center center;background-size: cover;height: 100%;width: 100%;padding: 40px;transition: transform 2s;"></div>
              <div class="hero-1-stuff-{{ story_handle }}">
                {% if block.settings.title %}                
                   <h1>{{ block.settings.title }}</h1>
                {% endif %}  
                {% if block.settings_button_link %}
                  <a href="{{ block.settings.button_link }}" class="btn-reg">{{ block.settings.button_label }}</a>
                {% endif %}
              </div>
          </div>    
      </div>
      <div class="col px-4 d-flex flex-fill align-content-stretch">
      <p>{{ block.settings.description }}</p>
      </div>

    {% else %}
    
    <!--/ Hero On the right /-->
    <div class="col px-4 d-flex flex-fill">
      <p>{{ block.settings.description }}</p>
    </div>  
    <div class="col d-flex flex-fill">
      <div class="hero-1-container">
          <div class="hero-1" style="background: url({{ hero_img_url }}) no-repeat center center;background-size: cover;height: 100%;width: 100%;padding: 40px;transition: transform 2s;"></div>
          <div class="hero-1-stuff-{{ story_handle }}">
            {% if block.settings.title %}
              <h1>{{ block.settings.title }}</h1>
            {% endif %}
              {% if block.settings.button_link %}
                <a href="{{ block.settings.button_link }}" class="btn-reg">{{ block.settings.button_label }}</a>  
              {% endif %}              
          </div>
      </div>    
    </div>
    
    {% endif %}
    
  {% endif %}

  <!--story style-->
{% assign storyhandle = ".hero-1-stuff-" | append : story_handle  %}
 <style scoped>
 {{ storyhandle }} {
  position: absolute;
  top: 40px;
  left: 40px;
  padding: 15px;
  border-radius: 2px;
}
</style>

<!--story backdrop -->
{% unless hidefilterbackdrop %}
  <style scoped>      
    @supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {
      {{ storyhandle }} {
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
      }
    }
  
    
    /* slightly transparent fallback for Firefox (not supporting backdrop-filter) */
    @supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {
      {{ storyhandle }} {
        background-color: rgba(255, 255, 255, .5);
      }
    }
  </style>
 {% endunless %}
  
  </div>

{% endif %}  
{% endif %} 


{% endfor %}

{% schema %} 
{ 
  "name": "Zoomin Hero 1 - Story", 
  "class": "hero-section", 
  "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Common Title"
      }
    ],
  "blocks": [
    {
      "type": "hero_story",
      "name": "Zoomin Hero 1 - Story ",  
      "settings": [ 
        {
          "type": "page",
          "id": "page_handle",
          "label": "Select a page"
        },
        { "type": "number", 
          "id": "placement", 
          "default": 0,
          "label": "Block Placement 0,1 Odd,2 Even"
        },
        {
          "type": "checkbox",
          "id": "hide_filter_backdrop",
          "label": "Hide Back Drop",
          "default": true
        },       
        { "type": "image_picker", 
          "id": "image_story", 
          "label": "Hero Background Image"
        },
        { "type": "url", 
          "id": "hero_story_img_url", 
          "label": "Image URL" 
        },
        { "type": "text", 
          "id": "title", 
          "default": "Example Heading",
          "label": "Heading Title"
        },
        { "type": "richtext", 
          "id": "description", 
          "default": "<p>Example paragraph</p>",
          "label": "Description" 
        },
        { "type": "text", 
          "id": "button_label", 
          "default": "Button",
          "label": "Button Label" 
        },
        { "type": "url", 
        "id": "button_link", 
        "label": "Button Link" 
        },
        { "type": "video_url",
          "id": "video_story_url",
          "accept": ["youtube","vimeo"],                    
          "label": "Video URL"
        }
      ]
    }
  ],
    
      "presets": [
      {
        "category": "Hero",
        "name": "Zoomin Hero 1 Story"
      }
    ]
}

{% endschema %}
{% comment %}theme-check-enable{% endcomment %}

<style>
    .hero-1-container {
        height: auto;
        min-height: 50vh;
        width: 100%;
        overflow: hidden;
        position: relative;
       /* margin-bottom: 20px;*/
      }
      
      {% comment %} .hero-1 {
        background: url({{ hero_img_url }}) no-repeat center center;
        background-size: cover;
        height: 100%;
        width: 100%;
        padding: 40px;
        transition: transform 2s;
      } {% endcomment %}
      
      .hero-1:hover {
        transform: scale(1.15);
      }
      
      {% comment %} .hero-1-stuff {
        position: absolute;
        top: 40px;
        left: 40px;
        padding: 15px;
      }
       {% endcomment %}
      
</style>

<!-- -->

