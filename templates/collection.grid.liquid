{% comment %}theme-check-disable{% endcomment %}
<section class="container py-5">
 <h1 class="text-center py-2">{{ collection.title }}</h1>
 <div class="container-fluid d-flex flex-wrap row-cols-xxl-5 row-cols-xl-4 row-cols-lg-4 row-cols-md-3 row-cols-3 m-0 py-10">
  {% for product in collection.products %}
       {% assign image = product.featured_media.preview_image %}
      {% for tag in product.tags %}

       {% if tag contains 'Special' %}
        {% assign specialbox = 'true' %}
       {% endif %}   

      {% endfor %}
      
      {% if specialbox == 'true' %}
        {% assign specialbox = 'false' %}
       <div class="col d-flex flex-grow-1 bg-dark border mx-1">
        {% else %}
        <div class="col d-flex bg-dark border">
       {% endif %}

       <div class="card d-flex flex-fill bg-dark border-0">
        <div class="img-wrapper">
        <div class="card-img-top" style="max-height:250px;object-fit: cover;">
        {% if image != blank %}  
          <div class="inner-img">

          <a href="#" id="productInfoAnchor-{{ product.id }}" product-handle="{{ product.handle }}" 
            product-price="{{ product.price | money_without_trailing_zeros }}"
           ><img class="card-img-top" width="200" height="200" src="{{  image | img_url:'master' }}" loading="lazy" alt="{{ product.title| escape }}"  
          ></a>
          <div class="text-hover">BUY NOW</div>     
        </div>

        {% else %}             

          {{ 'product-1' | placeholder_svg_tag: 'card-img-top' }}    
        
        {% endif %}
        </div>
      </div>
        
        <div class="card-body bg-dark d-flex flex-fill justify-content-between">
            <h5 class="h5"><a class="text-product-link" href="{{ product.url }}">{{ product.title }}</a></h5>    
            <p class="text-white">{{ product.price | money_without_trailing_zeros }}</p>            
            
        </div>        
      </div>
        </div>

    {% endfor %}
  </div>

  <div class="modal fade" id="productInfoModal" tabIndex="-1" aria-hidden="true" style="z-index:2000">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom: none;">>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                      <div class="col-12 col-md-6">
                        <img class="img-fluid" style="max-height: 50vh;" src="" id="productInfoImg" alt="">
                      </div>
                      <div class="col-12 col-md-6">
                        <h1 id="productInfoTitle" class="text-product-title"></h1>
                        <p id="productInfoPrice" class="text-header-title"></p>
                        <p id="productInfoDescription" class="text-product-desc"></p>
                      </div>
                </div>             
            </div>
            <div class="modal-footer" style="border-top: none;">
              <div class="col-12 col-md-6"></div>
              <div class="col-12 col-md-6 px-2">
                <form action="#" id="addToCartForm" class="row">
                  <select name="id" id="modalItemID" class="form-select col-auto">
                  </select>
                  <input type="number" name="quantity" value="1" id="modalItemQuantity" min="1" max="9999" class="col-auto w-100">                
                  <P></P>
                  <button type="submit" id="btnAddToCart" class="btn-add-to-cart col-auto w-100">Add to Cart</button>
                  <p></p>                 
                </form>
              </div>
            </div>
        </div>
    </div>
</div>
</div>
{% style %}
.text-product-link {
  color: #D4D4D4;
  font-family: {{ font_producttitle.family }}, {{ font_producttitle.fallback_families }};
  text-decoration: none;
}

.text-product-link:hover {
    color: {{ producttextcolorhover }};
    text-decoration: underline;
}

.text-product-title {    
    font-family: {{ font_producttitle.family }}, {{ font_productdescription.fallback_families }};
    text-decoration: none;
}

input {
      border-left: none;
      border-right: none;
      border-top: none;
      border-bottom: 1px solid #ced4da;
  }
      
  .form-select {
      border-left: none;
      border-right: none;
      border-top: none;
  }

{% endstyle %}
{% comment %}theme-check-enable{% endcomment %}
